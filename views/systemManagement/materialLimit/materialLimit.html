<!-- 物资限制 -->
<div class="mgTop20 bkColor contentShadow">
    <div class="forStar mgBottom20 borderB clearFix">
        <ul class="fl clearFix" style="width: 70%">
            <li>
                <label>物资编码：</label>
                <input class="projectName label6-width" ng-model="conf.searchCode" placeholder="物资编码">
            </li>
            <li class="form-group" style="overflow: inherit;">
                <label>物资类型：</label>
                <div class="styled-select label6-width" style="overflow: inherit;">
                    <input type="text" style="width: 144px;" ng-model="conf.jy_material_type_id" ng-mousedown="showMenuName()">
                    <i class="iconfont icon-sfsiconchacha-copy poorContent" ng-click="removeName()"></i>
                    <ul style="right: -2px;top:28px;border-radius: 4px;" ng-mouseleave="notShow()" class="add-menu" ng-show="isShowMenuName==true">
                        <li ng-repeat="item in TypeAndName | filter:conf.jy_material_type_id" style="position: relative;width: 142px">
                            <a ng-click="changevalue(item.value,item.key)">
                                <input type="text" title="{{item.value}}" class="mouseFocus" style="width: 148px;overflow: hidden;border: none;cursor: pointer" ng-model="item.value">
                            </a>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="form-group" style="overflow: inherit">
                <label>物资名称：</label>
                <div class="styled-select label6-width" style="overflow: inherit;">
                    <input type="text" style="width: 144px;" ng-model="conf.searchName_type" placeholder="物资编码-物资名称" ng-mousedown="showMaterialMenu()">
                    <i class="iconfont icon-sfsiconchacha-copy poorContent" ng-click="removeMaterialName()"></i>
                    <ul style="right: -2px;top:28px;border-radius: 4px;" ng-mouseleave="notShowMaterial()" class="add-menu" ng-show="isShowMaterialMenu==true">
                        <li ng-repeat="item in ALLMaterialList | filter:conf.searchName_type" style="position: relative;width: 142px">
                            <a ng-click="changematerialvalue(item.value,item.key)">
                                <input type="text" title="{{item.value}}" class="mouseFocus" style="width: 148px;overflow: hidden;border: none;cursor: pointer" ng-model="item.value">
                            </a>
                        </li>
                    </ul>
                </div>
            </li>
        </ul>
        <div class="fl">
            <a class="button button-blue" ng-click="search()">查询</a>
        </div>
    </div>
    <div class="commonTable clearFix">
        <table>
            <thead>
                <tr>
                    <th>物资编码</th>
                    <th>物资名称</th>
                    <th>物资类型</th>
                    <th>规格型号</th>
                    <th>供应商（厂家）</th>
                    <th>物资限制数量</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in data">
                    <td>{{item.code}}</td>
                    <td>{{item.name}}</td>
                    <td>{{item.type_name}}</td>
                    <td>{{item.model}}</td>
                    <td>{{item.supplier}}</td>
                    <td>{{item.use_limit}}</td>
                    <td>
                        <a class="button button-green operationButton" ng-click="modifyMateriel(item.id,item)">设置</a>
                    </td>
                </tr>
            </tbody>
        </table>
        <div ng-include="'views/common/paging.html'"></div>
    </div>
</div>
<div class="add-overlay" ng-show="showAdd">
    <div class="uploadFiles fileImportContent">
        <div class="forStar">
            <ul class="mgTop20 clearFix">
                <li>
                    <label>物资编码</label>
                    <input class="projectName label6-width" ng-model="materiel.code" disabled>
                </li>
                <li>
                    <label>物资名称</label>
                    <input class="projectName label6-width" ng-model="materiel.name" disabled>
                </li>
                <li>
                    <label>物资类型</label>
                    <input class="projectName label6-width" ng-model="materiel.codename"  disabled>
                </li>
                <li>
                    <label>规格型号</label>
                    <input class="projectName label6-width" ng-model="materiel.model" disabled>
                </li>
                <li>
                    <label>供应商（厂家）</label>
                    <input class="projectName label6-width" ng-model="materiel.supplier" disabled>
                </li>
                <li class="form-group">
                    <label class="addStar">申领限制数量</label>
                    <input class="projectName label6-width" ng-model="materiel.use_limit" placeholder="申领限制数量"
                           onkeyup="value=value.match(/^[1-9]\d*$/)"  validator="[requiredSubmit]" validator-group="AddStock">
                </li>
            </ul>
            <a class="button button-blue" style="margin: 5% 0 0 40%;" ng-click="setMaterial()">设置</a>
        </div>
        <div class="ngdialog-close closeBefore"  style="cursor: pointer" ng-click="closeFileForm()"></div>
    </div>
</div>